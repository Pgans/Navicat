SELECT DISTINCT c.REG_DATETIME, a.CID, a.FNAME, a.LNAME, e.ICD10_TM , e.ICD_NAME 
FROM population a
INNER JOIN cid_hn b ON a.cid = b.cid 
INNER JOIN opd_visits c ON b.hn = c.hn 
INNER JOIN opd_diagnosis d ON c.visit_id = d.visit_id AND d.IS_CANCEL = 0 
INNER JOIN icd10new e ON d.ICD10 = e.ICD10 AND e.ICD10_TM IN ('X60','X84','Z915')
WHERE  
c.is_cancel =0
#AND  a.CID IN (1349900821292,2349900041686,3100901259105,1341400122967,1341400168169,1349900704211,1341400187384,
#3341400610798,3341400456373,1341400022113,3341400016748,3600200326634,3341400572225,3341400704679)
AND a.cid NOT IN (SELECT cid FROM deaths)