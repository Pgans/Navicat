[2018-09-05 10:01:06.366] [33949017] [samba] [MYSQL]
SHOW VARIABLES LIKE 'lower_case_%'

[2018-09-05 10:01:06.371] [33949017] [samba] [MYSQL]
SHOW VARIABLES LIKE 'profiling'

[2018-09-05 10:01:06.373] [33949017] [samba] [MYSQL]
SHOW DATABASES

[2018-09-05 10:01:07.641] [33949162] [samba] [MYSQL]
SELECT @@character_set_database, @@collation_database

[2018-09-05 10:01:07.644] [33949162] [samba] [MYSQL]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2018-09-05 10:01:15.085] [33949361] [samba] [MYSQL]
SHOW FULL TABLES FROM `mbase_data1` WHERE Table_type != 'VIEW'

[2018-09-05 10:01:15.094] [33949361] [samba] [MYSQL]
SHOW FULL TABLES FROM `mbase_data1` WHERE Table_type = 'VIEW'

[2018-09-05 10:01:15.099] [33949361] [samba] [MYSQL]
SHOW PROCEDURE STATUS WHERE Db='mbase_data1'

[2018-09-05 10:01:15.102] [33949361] [samba] [MYSQL]
SHOW FUNCTION STATUS WHERE Db='mbase_data1'

[2018-09-05 10:01:19.025] [33949704] [samba] [MYSQL]
SET PROFILING=1;

[2018-09-05 10:01:19.026] [33949704] [samba] [MYSQL]
SHOW STATUS

[2018-09-05 10:01:19.029] [33949704] [samba] [MYSQL]
SHOW STATUS

[2018-09-05 10:01:19.041] [33949704] [samba] [MYSQL]
SELECT  MONTH(a.reg_datetime) as month2562 ,
COUNT(CASE WHEN(b.ppspecial in ( '1B601','1B602', '1B603','1B604', '1B609', '1B6010', '1B611', '1B612')) THEN '1' END) AS 'รวมทั้งหมด' ,
COUNT(CASE WHEN (b.ppspecial= '1B600') THEN '2' END) AS  '1B600',
COUNT(CASE WHEN(b.ppspecial = '1B601') THEN '3' END) AS '1B601' ,
COUNT(CASE WHEN(b.ppspecial = '1B602') THEN '4' END) AS '1B602' ,
COUNT(CASE WHEN(b.ppspecial = '1B603') THEN '5' END) AS '1B603' ,
COUNT(CASE WHEN(b.ppspecial= '1B604') THEN '6' END) AS '1B604' ,
COUNT(CASE WHEN(b.ppspecial = '1B609') THEN '7' END) AS '1B609' ,
COUNT(CASE WHEN(b.ppspecial = '1B610') THEN '8' END) AS '1B610' ,
COUNT(CASE WHEN(b.ppspecial = '1B611') THEN '9' END) AS '1B611' ,
COUNT(CASE WHEN(b.ppspecial = '1B612') THEN '10' END) AS '1B612' 

FROM  opd_visits a
INNER JOIN specialpp b ON a.visit_id = b.visit_id and b.is_cancel = 0
WHERE a.reg_datetime  BETWEEN '2018.07.01 00:01' AND '2018.08.31 23:59'
AND a.is_cancel = 0
GROUP BY month2562

[2018-09-05 10:01:19.338] [33949704] [samba] [MYSQL]
SHOW STATUS

[2018-09-05 10:01:19.341] [33949704] [samba] [MYSQL]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2018-09-05 10:01:19.343] [33949704] [samba] [MYSQL]
SELECT STATE AS `State`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.282586*100,3), '%') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=3 GROUP BY STATE ORDER BY SEQ

